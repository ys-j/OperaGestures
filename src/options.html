<!DOCTYPE html>
<meta charset=utf-8>
<title>Opera Gestures</title>
<link rel=icon href=icon.svg type=image/xml+svg>
<link rel=license href=http://mozilla.org/MPL/2.0/ >
<link rel=stylesheet href=options.css>
<meta name=viewport content="width=device-width,initial-scale=1">
<body class=about-opened>
	<header>
		<div class=center>
			<a id=menu role=button data-i18n=menu>Menu</a>
		</div>
	</header>
	<nav>
		<h1><i><img alt=O src=icon.svg>pera Gestures</i></h1>
		<ul role=tablist>
			<li>
				<h2 data-i18n=settings>Settings</h2>
				<ul>
					<li><a href=#sensibility data-i18n=sensibility>Sensibility</a>
					<li><a href=#functions data-i18n=functions>Functions</a>
					<li><a href=#blacklist data-i18n=blacklist>Blacklist</a>
					<li><a href=#beta data-i18n=beta>Beta Features</a>
					<li class=win-hidden><a href=#mac_linux data-i18n=maclinux>For Mac/Linux</a>
				</ul>
			<li>
				<h2 data-i18n=help>Help</h2>
				<ul>
					<li><a href=#about data-i18n=about>About</a>
				</ul>
		</ul>
	</nav>
	<main role=tablist>
		<section id=sensibility role=tabpanel>
			<h1 data-i18n=sensibility>Sensibility</h1>
			<div class=message-container>
				<div class="message inline" tabindex=-1 hidden>
					<span data-i18n=sensibility-detect_gesture>Gestures detected:</span>
					<output id=gesture role=status></output>
				</div>
			</div>
			<div class=flex>
				<figure role=status>
					<svg width="320" height="320" viewBox="-8 -8 16 16">
						<defs>
							<radialGradient id="_g" cx="0" cy=".5" r="1">
								<stop offset="0%" stop-color="#000" stop-opacity="1" />
								<stop offset="100%" stop-opacity="0" />
							</radialGradient>
							<path id="_tl" d="" fill="url(#_g)" />
						</defs>
						<use href="#_tl" transform="rotate(0)" />
						<use href="#_tl" transform="rotate(90)" />
						<use href="#_tl" transform="rotate(180)" />
						<use href="#_tl" transform="rotate(270)" />
						<circle id="_cc" cx="0" cy="0" r="2" fill="var(--grey-10)" />
						<circle cx="0" cy="0" r=".1" />
					</svg>
				</figure>
				<form name=s>
					<svg width="120" height="120" viewBox="0 0 16 16" font-size="2">
						<marker id="_ms" viewbox="-1 -1 2 2">
							<circle r="1" />
						</marker>
						<marker id="_me" markerWidth="6" viewBox="0 -3 8 6">
							<path d="M0,-3v6L8,0z" />
						</marker>
						<path id="_ml" d="" marker-start="url(#_ms)" marker-end="url(#_me)" fill="none" stroke="#000" stroke-width=".5" />
						<text x="0" y="2">1</text>
						<text x="0" y="14">2</text>
					</svg>
					<fieldset>
						<label>
							<span data-i18n=sensibility-1st_gesture>1st gesture</span>
							<input name=mm1 type=number min=1 required>
							<span data-i18n=unit_px_over>px and over</span>
						</label>
						<label>
							<span data-i18n=sensibility-2nd_gesture>2nd gesture</span>
							<input name=mm2 type=number min=1 required>
							<span data-i18n=unit_px_over>px and over</span>
						</label>
						<label>
							<span data-i18n=sensibility-angle_range>Angle range</span>
							<input name=ar type=number min=1 max=90 required>
							<span data-i18n=unit_degree>deg</span>
						</label>
						<label>
							<span data-i18n=sensibility-wheel_gesture>Wheel gesture</span>
							<input name=wm type=number min=1 required>
							<span data-i18n=unit_px>px</span>
						</label>
					</fieldset>
					<button class="primary puffy" data-i18n=button_save>Save</button>
					<div class="message warning runin">
						<span data-i18n=warning_required_restart>Require to restart add-on.</span>
					</div>
				</form>
			</div>
		</section>
		<section id=functions role=tabpanel>
			<h1 data-i18n=functions>Functions</h1>
			<form name=fb>
				<table>
					<caption data-i18n=functions-table_caption>List of Functions (*: Extra)</caption>
					<tr>
						<th><span data-i18n=left>Left</span>
						<td>
							<label>
								<input name=l type=checkbox>
								<span data-i18n=functions-description-left>Go to previous page in history</span>
							</label>
					<tr>
						<th><span data-i18n=right>Right</span>
						<td>
							<label>
								<input name=r type=checkbox>
								<span data-i18n=functions-description-right>Go to next page in history</span>
							</label>
					<tr>
						<th><span data-i18n=up>Up</span><wbr>→<span data-i18n=left>Left</span>
						<td>
							<label>
								<input name=ul type=checkbox>
								<span data-i18n=functions-description-upleft>Go to parent directory</span>
							</label>
					<tr>
						<th><span data-i18n=up>Up</span><wbr>→<span data-i18n=down>Down</span>
						<td>
							<label>
								<input name=ud type=checkbox>
								<span data-i18n=functions-description-updown>Refresh page</span>
							</label>
					<tr>
						<th><span data-i18n=up>Up</span>
						<td>
							<label>
								<input name=u type=checkbox>
								<span data-i18n=functions-description-up>Stop loading</span>
							</label>
					<tr>
						<th><span data-i18n=down>Down</span><span class=android-only data-icon=indentity></span>
						<td>
							<div>
								<input id=checkD name=d type=checkbox>
								<dl>
									<dt data-i18n=functions-wlink>w/ link
									<dd><label for=checkD data-i18n=functions-description-down_link>Open link in a new tab</label>
									<dt data-i18n=functions-wolink>w/o link
									<dd><label for=checkD data-i18n=functions-description-down>Open a new tab</label>
								</dl>
							</div>
					<tr>
						<th><span data-i18n=down>Down</span><wbr>→<span data-i18n=up>Up</span><span class=android-only data-icon=indentity></span>
						<td>
							<div>
								<input id=checkDU name=du type=checkbox>
								<dl>
									<dt data-i18n=functions-wlink>w/ link
									<dd><label for=checkDU data-i18n=functions-description-downup_link>Open link in a new background tab</label>
									<dt data-i18n=functions-wolink>w/o link
									<dd><label for=checkDU data-i18n=functions-description-downup>Open a copy in a background tab</label>
								</dl>
							</div>
					<tr>
						<th><span data-i18n=wheel>Wheel</span><br>(<span data-i18n=up>up</span>/<span data-i18n=down>down</span>)
						<td>
							<label class=nest-parent>
								<input name=w type=checkbox>
								<span data-i18n=functions-description-wheel>Switch active tab to the left/right one</span>
							</label>
							<fieldset class="nest-child android-hidden" form=fe>
								<label>
									<input name=w1 type=checkbox form=fe>
									<span data-i18n=functions-wheel_skip>Skip a tab that gestures don't work</span>
								</label>
								<div class=message>
									<span data-i18n=warning_wheel_skip>Cannot skip a tab that is discarded or not yet loaded.</span>
								</div>
							</fieldset>
					<tr>
						<th><span data-i18n=down>Down</span><wbr>→<span data-i18n=right>Right</span>
						<td>
							<label>
								<input name=dr type=checkbox>
								<span data-i18n=functions-description-downright>Close current tab</span>
							</label>
					<tr class=android-hidden>
						<th><span data-i18n=down>Down</span><wbr>→<span data-i18n=left>Left</span>
						<td>
							<label>
								<input name=dl type=checkbox>
								<span data-i18n=functions-description-downleft>Minimize window</span>
							</label>
					<tr class=android-hidden>
						<th><span data-i18n=up>Up</span><wbr>→<span data-i18n=right>Right</span>
						<td>
							<label>
								<input name=ur type=checkbox>
								<span data-i18n=functions-description-upright>Maximize window</span>
							</label>
					<tr class=android-hidden>
						<th><span data-i18n=right>Right</span><wbr>→<span data-i18n=up>Up</span>*
						<td>
							<label>
								<input name=ru type=checkbox form=fe>
								<span data-i18n=functions-description-rightup>Restore recently closed tab/window</span>
							</label>
				</table>
				<div class="message-container android-only">
					<div class="message runin">
						<span data-i18n=warning_newtab_android>On Android, the gestures [Down] and [Down→Up] open always a normal tab (not private).&#xa;In addition, the gesture [Down w/o link] opens a new tab with blank page (not homepage).</span>
					</div>
				</div>
				<button class="primary puffy" data-i18n=button_save>Save</button>
				<div class="message warning runin">
					<span data-i18n=warning_required_restart>Require to restart add-on.</span>
				</div>
			</form>
			<form id=fe name=fe></form>
		</section>
		<section id=blacklist role=tabpanel>
			<h1 data-i18n=blacklist>Blacklist</h1>
			<p><span data-i18n=blacklist-write_regexp>Write in regular expression.</span> (<a href=https://developer.mozilla.org/docs/Web/JavaScript/Guide/Regular_Expressions#Writing_a_Regular_Expression_Pattern target=_blank>MDN</a>)</p>
			<form name=b>
				<fieldset>
					<label data-i18n=blacklist-default_blacklist>Default Blacklist (Not editable)</label>
					<textarea disabled name=dl lang=en rows=5>^(?:about|chrome|file|jar|moz-extension|resource|view-source):
\.(?:pdf|svg)$
^https?://(?:accounts-static|addons|content)\.cdn\.mozilla\.net/
^https?://(?:addons|discovery\.addons|input|install|support)\.mozilla\.org/
^https?://(?:accounts|testpilot)\.firefox\.com/
^https?://(?:api|oauth|profile)\.accounts\.firefox\.com/
^https?://sync\.services\.mozilla\.com/</textarea>
					<label for=userlist data-i18n=blacklist-user_blacklist>User Blacklist</label>
					<textarea id=userlist name=ul lang=en spellcheck=false></textarea>
				</fieldset>
				<button class="primary puffy" data-i18n=button_save>Save</button>
				<div class="message warning runin">
					<span data-i18n=warning_required_restart>Require to restart add-on.</span>
				</div>
			</form>
			<form class=flex name=c>
				<fieldset class=flex-max>
					<label>
						<span data-i18n=blacklist-confirm_url>Confirm if URL matches blacklist</span>
						<input type=url name=url placeholder=http://example.com/ required>
					</label>
				</fieldset>
				<button class=flex-min data-i18n=button_confirm>Confirm</button>
			</form>
			<div class=message-container>
				<div class="message inline" tabindex=-1 hidden>
					<span data-i18n=blacklist-matched_pattern>Matched patterns:</span>
					<output id=matchedPattern role=status></output>
				</div>
			</div>
		</section>
		<section id=beta role=tabpanel>
			<h1 data-i18n=beta>Beta Features</h1>
			<form name=g>
				<label class=nest-parent>
					<input name=locus type=checkbox>
					<span data-i18n=locus-draw>Draw pointer locus</span>
				</label>
				<fieldset class=nest-child>
					<label>
						<span data-i18n=thickness>Thickness</span>
						<input name=lt type=number min=1 required>
						<span data-i18n=unit_px>px</span>
					</label>
					<div class=flex>
						<label>
							<span data-i18n=color>Color</span>
							<input name=lc type=color required>
							<output name=lco></output>
						</label>
						<label>
							<input name=lptc type=checkbox>
							<span data-i18n=locus-prefer_themecolor>Prefer the page's theme color</span>
						</label>
					</div>
					<label>
						<span data-i18n=opacity>Opacity</span>
						<input name=lo type=number min=0 max=100 required>
						<span data-i18n=unit_percent>%</span>
					</label>
				</fieldset>
				<br>
				<label class=nest-parent>
					<input name=touch type=checkbox>
					<span data-i18n=touch-emulate>Emulate gestures by touch</span>
				</label>
				<fieldset class=nest-child>
					<div class="message runin">
						<span></span>
						<dl>
							<dt><span data-i18n=touch-gesture-basic>Basic/Link Gestures</span>
							<dd><span data-i18n=touch-description-basic>Double tap + Swipe</span>
							<dt><span data-i18n=touch-gesture-wheel>Wheel Gestures</span>
							<dd><span data-i18n=touch-description-wheel>Swipe up/down with 2 fingers</span>
						</dl>
					</div>
					<label>
						<span data-i18n=touch-duration_doubletap>Duration detecting a double tap</span>
						<input name=td type=number min=0.01 max=1 step=0.01 required>
						<span data-i18n=unit_second>s</span>
					</label>
					<label>
						<span data-i18n=touch-margin_doubletap>Margin of a double tap</span>
						<input name=tm type=number min=0 required>
						<span data-i18n=unit_px>px</span>
					</label>
				</fieldset>
				<br>
				<button class="primary puffy" data-i18n=button_save>Save</button>
				<div class="message warning runin">
					<span data-i18n=warning_required_restart>Require to restart add-on.</span>
				</div>
			</form>
		</section>
		<section id=mac_linux role=tabpanel>
			<h1 data-i18n=maclinux>For macOS/Linux</h1>
			<form name=ml>
				<label>
					<input name=cm type=checkbox>
					<span data-i18n=macliunx-change_contextmenu_behavior>Change the timing of context menu opening (mousedown to mouseup)</span>
				</label>
				<div class="message warning runin">
					<span data-i18n=warning_required_permission>Require to allow additional permission.</span>
				</div>
			</form>
		</section>
		<section id=about role=tabpanel>
			<h1>Thank you for using <i><img alt=O src=icon.svg>pera Gestures</i>!</h1>
			<h2><i data-subst=name></i> v<span data-subst=version></span></h2>
			<ul>
				<li><a href=https://addons.mozilla.org/firefox/addon/opera-gestures/ target=_blank>AMO</a> - <span data-i18n=about-description-AMO>Rating and review</span>
				<li><a href=https://github.com/ys0115/OperaGestures target=_blank>GitHub</a> - <span data-i18n=about-description-GitHub>Request and bug report</span>
			</ul>
			<p>
				<small>This page design is based on <a href=https://design.firefox.com/photon/ target=_blank>Photon Design System</a> by Mozilla.</small>
			</p>
			<p>
				<small>&copy; 2018 _y_s</small><br>
				<small>This add-on is licensed under the <a href=http://mozilla.org/MPL/2.0/ target=_blank>Mozilla Public License, version 2.0</a>.</small>
			</p>
		</section>
		<div id=pop-saved class="message success bottom" tabindex=-1 hidden>
			<span data-i18n=notice_saved>Saved!</span>
			<button type=button data-i18n=button_restart_addon>Restart add-on</button>
		</div>
	</main>
	<div id=overlay></div>
	<div id=dialog tabindex=-1>
		<div class="message warning inline" tabindex=-1 hidden>
			<span data-i18n=warning_restart_addon>Cannot reload the add-on automatically on your browser version.&#xa;Please reload each tab manually to apply modification after restarting add-on or browser.</span>
			<button type=button data-i18n=button_restart_addon>Restart add-on</button>
			<button class=close></button>
		</div>
		<div class="message warning inline" tabindex=-1 hidden>
			<div class=flex>
				<div>
					<span data-i18n=warning_modify_config_manually>Failed to get permission to modify browser settings.&#xa;Please modify browser setting manually:</span>
					<ol>
						<li data-i18n=maclinux-process1>Open "about:config".
						<li data-i18n=maclinux-process2>Change "ui.context_menus.after_mouseup" value to true.
					</ol>
				</div>
			</div>
			<button class=close></button>
		</div>
	</div>
	<script src=options.js></script>
</body>